from unittest import TestCase

from src.main.code.util.ClassGeneratorUtil import ClassGeneratorUtil
from src.main.code.util.ReflectUtil import ReflectUtil
from src.main.code.util.RequestUtil import RequestUtil
from src.main.code.util.ResourceUtil import ResourceUtil


class TestReflectUtil(TestCase):

    def test_reflect(self):
        param = {'className': 'TestReflectUtil', 'model': 'src.test.code.util.test_reflect_util', 'methodName': 'test_hi', 'args': ['名字', '呵呵']}
        ReflectUtil.run_clz_method(**param)
        print(ReflectUtil.run_clz_method(className='TestReflectUtil', model='src.test.code.util.test_reflect_util', methodName='test_clz', args=[]))
        print(ReflectUtil.run_clz_method(className='TestReflectUtil', model='src.test.code.util.test_reflect_util', methodName='test_static', args=[]))

    def test_gen_cls(self):
        ClassGeneratorUtil.generate_cls("RequestDto", f'{ResourceUtil.get_root_path()}/src/main/code/dto/RequestDto.py',
                                        params=["url", "param", "response", "request_header", "method", "response_header"])

    def test_decode(self):
        val = b'\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\x03\xe5\\\xef\x8b\x1b\xc7\x19\xfe\x9e\xbfB\x0c\x14\x1a\xf0\x0e;\xfb{\xfb-\x14\x07\xfc!n\x88C\xbf\x04#\xd6\xd2\xfa,\xd0I\xc7J\x17s\x0e\x866\xc4u\xeb8v\x92\xa6vJ\xe3\x9a\xc68\x98\x82\xe3+uKR\'\xdc?\xe3\xd5\xf9\xfe\x8b>3+\xad\xa4YiN\xef@ \xdc\xf9\xc3Y\xab\x9d\xd9w\xdew\x9e\xf7y\x7f\xcc\xde}\xf0Z\xab\xc5:\xc3n\xceZ\xbfj\xb9g\xe4U7\x1bg\xf2\xea\x03\\\xe0r;_\xbc\xc4\x17\xef\xe7\xc5\xa87\x1c\xc8!\xcccr\x8a\x1a\'\xa7\x8d\x86\xbbE\'?\xd7\x95\xf7\x06\xbb\xfd\xfe\xf2\xcd|\xfc\xee\xde\x8e\x12\xc4\xb2\xad\xad"\xdf\xca\xc6\xf29\xf5\xa0\xed<\x1b\xed\x16\xf9H\xce~\xafu\xb1\xfe~\'+2\xac\x02b\xab;\xd5\xc2\x94\xd0Q\xe7J\xbe\x9d\xbf\xd9\xcb\xfbJ&\x1bt\xda\x97\x8al\xd0mw\xb2q\xbe5,\xf6\xda\x9d\xb9\x00\xac=\xdb\xe9\xbd-\x9f\xa6\x16?\xb9\xb7?\xf9\xe6\xc3\xf2\xe0?\xe5\x9f\x7f\x7f\xf8\xa7\xdb\xf2\xe7\xbf^\xbc\xfc\xee\xe9\xe4\xde\xcd\xf2\xd3O\xd8T\xb1\xebg\xa6\x96X)pg\xf7R\xbf7\xba\xd2\x1e\xf7\xb6\xf3Z\x13]Py\xf7\xb3W\xffx2\xb9\xff\xdf\xa3\xfb\xcf7{l\xd6\xefW\x8a\xac\x7ff\xb5\xe6M\xd7)w\xa7=\x96\xe6\x9f\x99U_\xe4\xe4/\xfb\x93O\xbe\x85\x05\xca\xbf\x7f\xbc\xd9";\xc3\xc18\x1f\x8c\xdbY\xb7=\x18\xf6F\xeb\x1f]\xfe\xe1F\xf9\xed\xf7\xed\xf2\xfb\x83\xf2\xb3[\x93\x07\x1f\x1e=\xfcw-aa\x9f/\xcbm\x1c\x9d\x1b\\\x1e6\xf6Y\xdd:\x0f\x14\xa8\x8d;n\x97\xd5\xe87\xfa\xbdL\x01\x86\x1d\xb3\xcf\x0b\x06Q\x13\xcf\x8d\xce\xe7\xa3q\xae\x00\xa5<B\xe1\xbb\xc5\xa67\xdf(\x8alO.c\xd5\xbdA\xd6\xdf\xbb\xb6v\xea\xdbEo;+\xd4\xe4E\xef\xc0N\xa8g\xd7\xde1\x1a\x17\xbd\xc1\xd6\xe2Na\xfb\xf27\x87\xc5v6\x96\x92\xf5\xc9K7V\xc2V=\xbf\xb6\xdf:\xd0\xaaQs\xbb-\xc1\xf6\xe7g%i\x93\xf56b{\xf8\xe7\xbc\xf5\x96\xd3\xed.\x0e\xbaL\xb5\xd5JO\xd4\rU\xfb\xe2\xcf\xcfJ?5\x96V\x12\x8bf\x9f%j9}&2\xf1\xa4f\xa9ULy\xfa\x0cvi\xf7\xda5\x04\xee\xf1\x92\xe3\xca\xe0\xb0\xc0M\x8f\xf6\x8fn\xdem\x0c8\xf9\xdc\xadl\xb3=\xdcn\xa8\xae\xdb\xe6\xf0\xce\xb3\xc9\xb3/\x1a\xc3N\xbe\x85\xde\xed\x8d\xb3A\xbb\x87\xdc\xa4\xc8:2\xc3<\x06J/\xff\xf7yy\xeb\xc9\xe9D\xd3J[\xb5\xcd\xf0\xaa\xeduj\x11\xd6+\x1an5\xf7\xbe\xca<\x87wn6\xc6\x9c|\xd7\xeb\x15\x1ba\x07\xc69\xb5\xd8\xb9\xf0\x9b\xdf6\x801\x07\xcf\xaa\xbb\'\x1f6\xd0\xfa\x18\xdc`Dy\xf7\xcb\xf2\xf6\xbd\x86\xedN\x83u\xce6\xb4^DL\xf3\xee\xa9\xb0\xc9\xb1\x889{j\x113\x18\x99\x02\xd4\xf9\x0b\xef4\xf0t\xf2\x11\x03\x9b\xb4;W\xb2\xc1\xd6R\xcf@+\xbf`\x9a\x93\r\x9a\x85n[\x17\x1d\xcb\x81l\xe4\xaa&\xd9BO\xb5\x18^=7\xe8\xf6:\x8dF,\xfaT\x9da\x7f\xf9\xde\xac\xdb\xa4\xfe\xbf^\x95\xaa\xaa\x83<\xcaU\xabj\xf6\xdc\xba\xab\xfc\x1eZ\xbb\xacj\xb8\xb23\xf84\xad\xe3f\x9ffy\xc1\xf2\xf5\xcb\xefnM\xbezX\xfe\xee\x87\xf9\x94\xf2\xd3\xdb\xaa\xbc\x99\r\xac\xae\x97\x06\xd6\x89\xaa\x9cU_\xcc%h_\xad\x9e;\x97S\x0f_+J%}3Q\x0bI\xcel\x8d/_\xfcx\xf4\xf5\x83_"\x98\xbd>W\xa4Z\xcf\xc2\xad\x19\x02g\xb3\xa6\xe2\xe6s\xe7\x03\xea%\xd5\xd3\xcf\xaa\'\xd7\xdfk\x0f?\xfb\xfa\x8a\xb9\xda\xf3\x17\xc7(\xaah1\xfcW=h>\xbb\xfej\xc9j\xd2\x7f\xd4\xbe,\r\\a\xaf\xc9\xd3GG\x0f\xbe\x9e\xda\xab\xbe\x98o\x8d\xf6\xd5\x92\x90\xfa^\xf5\\iI\xed\xab\xa5\xe1\xaf\x9e?\x9c\x8b\xaa/\xe6\xa2\xb4\xafV\xcf\x9d\x8b\xaa\x87\xebZ\xc1\xb5$\xb4\x8f\xbe\xf9k\xf9\xf8\x8f\xe5G\x07\xf80\xd9\x7f\x8e\xd5\x89\xc0\x0fb\xee.\x1d#\xa8N<:\xb9\xac\xd9\x9e{?\xeb\xefVm\xee\x90\x0b\xf1\x8bE\xaa\x1e\xedm_\x1a\xf6\xa7\xa7 lw\x87\xb5.\xce\xfc\x0fb\xfc(Hm\xc4\xf81O#\x82\x1c\xd7O\x95\x1c?N\xc3 \xb4\x91\xe8\x84>\x17\xbeAdwx\x15\xe7K\x0b\xca%n\x9a\xb8v\xb2<\x8f\x07&36d\x05I*\x92D\xea\xc5\xbc\x08\n\x06\xd28\x8bg@\x1bm\x9e\x13b&I.\x13\x01Ob\x1bY\xc2\xe5\ta\x07g\x9c\x0c>\xdfL\x95\x80\xfb\x1ee\xb7X\xc8\xfd\xd0F\x11\'\xe01\xc9f\x16\xaa$)I\x95$\xe2B*O\x06\x80\xcf=\xd7 I\xf3^\x96x<\xb5\x92#xjr\xa5\x86\x9c\x80\x0bi\x81\x16\xf3S\x1e\x056\x9a9\xd3\x89S\xee\x01\x8c\x96\x89\xa9\xe1Q,\xf0-\x91\xed`f,\x17\xb9\xb9\xac\xd8\xe5\x81\xf2"\x06\x8b\xda\xa1\xd0\x8b\xab\xe5n.4\xe0\xae2*\x19\x8f\xa1\xe0B.rsQ\x11wa\x90Y\xb4yz\xa3\xbc\xfbl\x1ejb\x0f\xb7\xe9X\r\x13\x1e\x11@$\xdc\x8a\x1f\xa9\xda\x86<I\x0c\xbajP\x15\x91\xefJeD\xec\n\x1b\xa5\x9c\xc8\xe5\xbe\x89\x16\x1b8\r\xbc\xd4\xb3\x92\x14\xc7<$1d\x1cFU\x84I\x13\x1e\xda\x814F8$q%\x13<\x96\xe6\'3\x99\xa8B\xe0:\x88j\xdbF\x05\x85#\xb8G\xb2\x1d\x03*\xac\x98\xd2\xc1D\x13\xca\x1bx \xab\xe2\x12\xd3\x1a\x96\x0082J\x90\xf7\x04\xd1\xc5\x14\xc7\xb4=aI\xc0=\t\x16\xb2\x1cGx\xd4\xedAv\x18\xab\xfd\x91\x80\x93\xf6\xa6\x0b\r\x10tM\xc1\xb3\xb1S\x0c\xf6\xb0\xd3\x0f\x0e\xe8\x9aH\xa9)*\xc5.W\xfa\xe1\x83\x9d\xd00\xe5\x1e\x8d\xf5]\xeeY\xa5\x86N\xc2}\x12\xe6\xe1]R\xbbY|\xf9\xf2\xe0\xf0\xce\xdf\xca\xfd\x1f\xe6!\x06\xc9\xb1U\x8cAvkdc\r\xb2"\x8ac+9\x88\x80\x81\xc9\xb6\xba\x9cP\xc4\x8a\xf4cOD\x91U\x9d\x86p\xc8c\x13\\5\x91~\x10\xc6\x89UH\x13\x89\x197\x9a\xa0H\xb8\x1e\x82\xa0\xacd\xfc8\x02\x8d[\xd1&2\xd3\x80\xc25"\xe5*\xc7&\xbb=\x10\xa2\x12\xb6\x9f*\xd0$TRA]%\xac"&\x12\x1d\x82\xc5\xc8a\xc6\xe3\xa1\xe9\xf1+(\x0ba\xc6*\xcbp+\x06\xdfpGX\x1a\xf1\xc4\ncH\x02\x02Z\x9a\x0f\xdeN\xa5\x11\x00m\x8f\'vaF\xa0D7\xf9m\xd3\x90~\xc2\x13;\xca\x0f\xe0\x87r\xe6:S6e\x85(\x86\x95^\xa0d\xb5L\xb2C9>\x14\xa4\x057\x97GV\x1b\x18\xc0\xb9L\x1b\xa81\x13T\x92\xf1l\x1ae^\x1d\xfc\xb3|\xfcx\x1eb\x92\x18=)\x8b2\xc6I}b\xb4\xf3\x12!<\x14o\xf4\x1cE\x08`\xdd\x14Y5\x8d\x93(P\x94\x8f\x18\xe3Yv\xcdd\x8b@&\x01\x1bC\xc8OE\x1a#]\xb1P\xcf9.\\7\xf0\x1a\xc7\xb3\xcc\x80\xf9!\x82\x8dJ\xe0\xc8\x90\x15\xb2mf\xf2I\xcd\xac\x0c\xd1\xc6.\xac9\x11\xc0B2\'\x95\xa7}\xb3\xf3\xe9\x9a@\x11;jA#\x87\xd6\x9f\xa3*\xe2D<5\xedI\x03\x0bL:\xa2]\xbe\x1ar\xcf\xc4#+D\xa1wae74\xc2L\x92\xf4\xedI\x90\xb3Wt\x0c*O\xa49\xc8\xe0\x8e\xa7\xc5\xfe:\x07\xd6E\xa2u\x9dX\x85mG2\x8c\x89\x9c\x9af\x8cQ!V\xea\t\xee\xab\xc0JEI\x82\xcc;2\xf5[t\xf5\x90]\xd9i\'\xd3t\x93\xa0\xa6vPn^\xd4\x94On\x967\xf6\xebp\x13\xc4\x91U\x04\xf0\x04\x0fM\xab\xd0\xd4\x95dl\xc3\xc4\x1e\xe2\x86\xcat6D\x8d\xf0\xe1|`\xfc$\xf2\x90\xdf\xd8P?\xcca\xac\xd4\x1a\xe6\xc5\x12\xd3\xd0.bGT\xeeB\xc4v\x93\xaa\xa6\x118\x15\xaa\xce\x0b\xc8\x9e\xe8\xa0K\x1c\xd12#\x14\'\xca?\xa8n\x81\x06\xb6I\x90\x86\x12\xea\xd3=\xf3ViOGG\xc6\xb2M\x82V\x0e\xa9\xe4\xa0\xea\x81\x93\x9f\x88\x14\x8c\xe5\x81\x89]\xebl\x9a\xe2n\xe8N\x0c\x95\xba\xeaZ\xd31&\xb0\xf54\x12F\xfd4%a$\xa5\xbeU\x8cqP\x0e\x11OL|t\xdb\xac\xa0\xed\xc4\x80\x85\x89\x02\x1bL\xc1d\xefH%\x068\x9dQI\x0b\xdd\xac(jhy\x1b\x9a\x83\xaa^&\x8bB\xa0\x8fLyO\xd3\xbb"\x04\xb4iQS~\xf5\xe8\xf0\xc7\xfb\x8b\x81\xc6\xf3\\\xbb\x93\x0c/\xe4\xa1\tH\xda:D\x1cZ\x1e\x03\xe1\x98\x8e\x90\x12\xe1\xc5\x86J\x1f\x81\xc3y\x1f\xf5\x90E\xb0\xa1\x9d\x92\n\x94\x181\xaca!\xc8A2Ek\xf4za BO\xc5l\x96\xaa\x9d\xb3\xaa\x8c\x1d\x11\x9b#@\xd3Id\xdeg\x95\xd2B\x94D\xe0\xda\nQ\x03\n\x99\xa4\xe1H\xa6X\xb6B\x13\xbc["\x11Ew\xbd\xea@uC\x92&+\x02\x0c\xa9~\xfa\xba\xe775A\x18\xf0\xa4\xeedM@\xc7\xa6\xbe\x8f\xb6%L\xd6\x08v\x95S\\E\x0c\x82J\x10\xa5Tb8\xf0\xae\x9aidC\xa2\xef\xa3:\x8b\x9bKE[\xcb\xb2\xceE\xbemb\xa7\xe6\x9ey\t\x0fT`C\xb0\xb1kI\xcb\xb7x\x88yIT\x1d\x05\x93q"\x0f\x84%\xc1\xac\xb3\xa4\x0e\x14\x84\xde\x85\x92\xe6\xc6\xfe\xab/^\xd4%\x8d\xc0\xf1\xb2U>\x0ez\xad\x1cv\xc3U\x84\x01\x00`\xc1\xc6A\x8a\xa2\xc6\x949h\xdazQ\xa8r~\xdf\x0b\xdd\xd8\xb3\xeah\xf9.RL\x82H\x844\x1f|j\xa3\x9c|\x0bC\xd5\xd0\x1bZ1\x8a}\xbc\x11\x07I\xcc\x83vH\x8c\xac\x88\x06\xd9\n%K`\x08\xd8\x9e\xb4\x07\x19\xa9h\rR\x0cI\xe5\x14\x81\x06\x84\xa9\x14\xd0\xa0\xc1\xd0\xebPo\xbf\x91\xf5@"Iy\x1f\x85\xaaG\x00\xa2#\x04c\x96N\t\x9c\xac\x87<\xc6\xa0\x84\x18Y\xd1Xux\x10\x02M\x04\xaco\x0c\xaa\x19\xd5\xa6i1@S\xbd\x0cGW\xcdE\rE1"z,\x96\xef\x1c\x80UR\x93\x15\x9b\xe1\x05\x94T\x1d<\xe14CE&\xb2z\x0e\x8e\x9e\x89\xe7^S\xde\xa4\x8b\xc2;\x15Fzh\xea\x87\xf3\n\x18\xa4u\x11\x05\xcd\x94\xc8\xd8\x95<\xeb\xe6\xc5\xaf\xa7/!\x0b\xed\xfbw\x86W\xd5\xcb\xc9B\r\xbf\x8e\x9f\xea7\x02\xd8h\xb7\x83\xdf&P\xb7\xc6\xc5n.g\xe1\xcf\xca\x8cF\x19~\x19C\xbd\x04=\xbd\xafn\x0cw\xf2\xc1\x85q!\xff~\x8b\xfaK\x19\x97\xb3\xfe(\x7f\xed\xfa\xff\x01>\xf2\xe3#\xa9F\x00\x00'
        print(RequestUtil.decode_json(val))

    def test_hi(self, name, hi):
        print(name)
        print(hi)

    def test_hello(self, name):
        print(name)

    def test_me(self):
        return 'hi'

    @classmethod
    def test_clz(cls):
        return '类方法'

    @staticmethod
    def test_static():
        return '静态方法'
